<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">

<style>
 table {
    border  : 1px solid gray;
    border-collapse: collapse;
 }
 td {
   text-align : center;
   width : 200px;
   height : 40px;
 }
 .box input[type=button]{
    height : 30px;
    padding : 0px 5px;
    margin : 5px;
 }
 
 select{
   width : 100%;
   height : 100%;
 }
</style>
<script>
window.onload = function(){
	form = document.selForm;
	
	form.data.focus();
	
}

 function add(){
	 //입력한 값 가져오기 
	 datavalue =   form.data.value;
	 
	 if(datavalue.trim().length > 0){
		//option태그 만들기 <option value="sdf">sdf</option>
		 //value와 text속성 설정 
		 opt = document.createElement('option');
		 opt.value = datavalue;
		 opt.text = datavalue;
	 }
	 
	 //left에 추가
     form.left.appendChild(opt);
	 form.data.value = "";
	 form.data.focus();
	 
 }
 function toRight(){  //오른쪽으로 보내기 
	 //왼쪽에서 한개를 선택 
	 idx =    form.left.selectedIndex;
     console.log("idx= " + idx);
      
	 //선택한 항목이 없으면 메세지창 띄우기
	 if(idx < 0) {
		 alert("항목을 선택하세요 ");
		 return;
	 }
	 
	 //왼쪽의 option에서  선태한 번째의 값을 가져온다ㅏ 
	  lvalue = form.left.options[idx].value;
	 
	 //option태그를 생성
	 opt = document.createElement('option');
	 //value, text를 설정 
	 opt.value = lvalue;
	 opt.text = lvalue;
	 
	 //오른쪽에 option태그를 추가 
	 form.right.appendChild(opt);
	 
	 //왼쪽에서는 삭제- 왼쪽에서 선택한 옵션의 번째  
	 form.left.removeChild(form.left.options[idx]);
	 
 }
 
 function rightAll(){
	 //왼쪽의 option의 갯수를 얻어온다 
	 len =  form.left.length;
	 
	 //갯수만큼 반복한다{ 
	 for(i=0; i<len; i++){
			//왼쪽에서 차례대로 i번째  의 값을 가져온다 
			lvalue = form.left.options[i].value;
			 
			//option생성 
			opt = document.createElement('option');
	 		//value, text를 설정 
	 		opt.value = lvalue;
	 		opt.text = lvalue;
	 		
			 //오른쪽select에 추가한다 
			 form.right.appendChild(opt);
	 }
	 
	 //갯수만큼 지우기를 반복 
	 for(i=0; i<len; i++){
		form.left.removeChild(form.left.options[0]) 
	 }
 }
 
 function toLeft(){
	 
	 
 }
</script>
</head>
<body>

<div class="box">
  <h3>1. form연습3 </h3>
  <br>
  
 <form name="selForm"> 
  <table border="1">
    <tr>
      <td  colspan="3"><h2>Select객체 예제</h2> </td>
    </tr>
    
    <tr>
      <td> 
        <select name="left" multiple="multiple" size=8 >
        </select>
      </td>
      <td>
          <input  type="button" value=">" onclick="toRight()"><br>
          <input  type="button" value=">>"  onclick="rightAll()"><br>
          <input  type="button" value="<" onclick="toLeft()"><br>
          <input  type="button" value="<<" onclick="leftAll()"><br>
      </td>
      <td>
         <select name="right" multiple="multiple" size=8 >
         </select>
      </td>
    </tr>
    
    <tr>
      <td colspan="3">
          <input type="text" name="data">
          <input onclick="add()" type="button" value="추가하기">
      </td>
    </tr>
  </table>
 </form> 
 
</div>
</body>
</html>